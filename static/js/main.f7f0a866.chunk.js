(this.webpackJsonpkeeper=this.webpackJsonpkeeper||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/remove.71708d87.svg"},15:function(e,t,a){e.exports=a.p+"static/media/edit.93ca2630.svg"},33:function(e,t,a){e.exports=a.p+"static/media/close.14e2f379.svg"},34:function(e,t,a){e.exports=a.p+"static/media/plus.ba9a0c8a.svg"},37:function(e,t,a){e.exports=a(71)},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),s=a.n(r),o=a(17),i=a(21),l=a(1),u=a.n(l),m=a(3),p=a(2),f=a(9),d=a.n(f),v=a(8),k=a(18),b=a(7),E=a.n(b),h="http://localhost:3001",C=function(e){return E.a.delete("".concat(h,"/lists/").concat(e))},j=function(e,t){return E.a.patch("".concat(h,"/lists/").concat(e),{name:t})},x=function(e,t){return E.a.patch("".concat(h,"/tasks/").concat(e),{text:t})},O=function(e){return E.a.delete("".concat(h,"/tasks/").concat(e))},g=function(e,t){return E.a.patch("".concat(h,"/tasks/").concat(e),{completed:!t})},w=a(13),N=(a(60),function(e){var t=e.color,a=e.onClick,n=e.className;return c.a.createElement("i",{onClick:a,className:d()("badge",Object(w.a)({},"badge-".concat(t.name),t.name),n)})}),y=(a(61),a(14)),S=a.n(y),T=function(e){var t=e.items,a=e.isRemovable,n=e.onClick,r=e.onRemove,s=e.onClickItem,o=e.activeItem,i=function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n=t.name,!window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(n,"?"))){e.next=5;break}return e.next=4,C(a);case 4:r(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("ul",{onClick:n,className:"list"},t.map((function(e,t){return c.a.createElement("li",{onClick:s?function(){return s(e)}:null,className:d()(e.className,{active:o&&o.id===e.id}),key:t},e.icon?e.icon:c.a.createElement(N,{color:e.color}),c.a.createElement("p",null,e.name," ",e.tasks&&"(".concat(e.tasks.length,")")),a&&c.a.createElement("img",{src:S.a,onClick:function(){return i(e)},className:"remove-btn",alt:"Remove"}))})))},H=(a(62),a(33)),L=a.n(H),R=function(e){var t=e.colors,a=e.onAddList,r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(null),f=Object(p.a)(l,2),d=f[0],v=f[1],b=Object(n.useState)(""),C=Object(p.a)(b,2),j=C[0],x=C[1],O=Object(n.useState)(!1),g=Object(p.a)(O,2),w=g[0],y=g[1];Object(n.useEffect)((function(){t&&v(t[0].id)}),[t]);var S=function(){i(!1),v(t[0].id),x("")},H=function(){var e=Object(m.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=3;break}return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"),e.abrupt("return");case 3:return y(!0),e.next=6,r={name:j,colorId:d},E.a.post("".concat(h,"/lists"),r);case 6:n=e.sent,c=n.data,a(Object(k.a)({},c,{color:Object(k.a)({},t.find((function(e){return e.id===d}))),tasks:[]})),S(),y(!1);case 11:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"add-list"},c.a.createElement(T,{onClick:function(){return i(!0)},items:[{className:"add-list",icon:c.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M6 1V11",stroke:"#868686",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{d:"M1 6H11",stroke:"#868686",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}]}),o&&c.a.createElement("div",{className:"add-list-popup"},c.a.createElement("div",{className:"close"},c.a.createElement("img",{onClick:S,src:L.a,className:"close",alt:"Close"})),c.a.createElement("input",{value:j,onChange:function(e){return x(e.target.value)},className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"}),c.a.createElement("div",{className:"color-list"},t.map((function(e){return c.a.createElement(N,{key:e.id,onClick:function(){return v(e.id)},color:e,className:d===e.id&&"active"})}))),c.a.createElement("button",{onClick:H,className:"button"},w?"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))},I=a(15),M=a.n(I),B=(a(63),function(e){var t=e.id,a=e.listId,r=e.text,s=e.completed,o=e.onRemove,i=e.onEdit,l=e.onComplete,f=Object(n.useState)(r),d=Object(p.a)(f,2),v=d[0],k=d[1],b=Object(n.useState)(!1),E=Object(p.a)(b,2),h=E[0],C=E[1];Object(n.useEffect)((function(){k(r)}),[r]);var j=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),e.prev=1,e.next=4,x(t,v);case 4:i(a,t,v),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("\u0423\u043f\u043f\u0441! \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O(t);case 5:o(a,t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert("\u0423\u043f\u043f\u0441! \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(t,s);case 3:l(a,t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert("\u0423\u043f\u043f\u0441! \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"task"},c.a.createElement("input",{id:"check-".concat(t),type:"checkbox",checked:s,onChange:N}),c.a.createElement("label",{htmlFor:"check-".concat(t),className:"check"},c.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#b3b3b3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))),h?c.a.createElement("input",{value:v,onChange:function(e){return k(e.target.value)},onBlur:j,className:"task-text",type:"text",autoFocus:!0}):c.a.createElement("div",{className:"task-text"},r),c.a.createElement("div",{className:"task-control"},c.a.createElement("button",{onClick:function(){return C(!0)},type:"button",className:"task-edit"},c.a.createElement("img",{src:M.a,alt:"Edit"})),c.a.createElement("button",{onClick:w,type:"button",className:"task-remove"},c.a.createElement("img",{src:S.a,alt:"Remove"}))))}),Z=(a(64),a(34)),F=a.n(Z),W=function(e){var t=e.list,a=e.onCreateTask,r=Object(n.useState)(!1),s=Object(p.a)(r,2),o=s[0],i=s[1],l=Object(n.useState)(""),f=Object(p.a)(l,2),d=f[0],v=f[1],k=Object(n.useState)(!1),b=Object(p.a)(k,2),h=b[0],C=b[1],j=function(){i(!o),v("")},x=function(){var e=Object(m.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d||alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438!"),C(!0),e.prev=2,e.next=5,E.a.post("http://localhost:3001/tasks",{listId:t.id,text:d,completed:!1});case 5:n=e.sent,c=n.data,a(t.id,c),j(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),alert("\u0423\u043f\u043f\u0441! \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 14:C(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"create-task"},o?c.a.createElement("form",{className:"create-task-form"},c.a.createElement("input",{value:d,onChange:function(e){return v(e.target.value)},type:"text",className:"field",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",autoFocus:!0}),c.a.createElement("button",{onClick:x,disabled:h||!d,className:"button",type:"button"},h?"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement("button",{onClick:j,className:"button button-gray",type:"button"},"\u041e\u0442\u043c\u0435\u043d\u0430")):c.a.createElement("button",{onClick:j,className:"create-task-btn"},c.a.createElement("img",{src:F.a,alt:"Plus"}),c.a.createElement("p",null,"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430")))},A=function(e){var t=e.list,a=e.onEditTitleList,r=e.onCreateTask,s=e.onRemoveTask,o=e.onEditTask,i=e.onComplete,l=Object(n.useState)(t.name),f=Object(p.a)(l,2),d=f[0],v=f[1],k=Object(n.useState)(!1),b=Object(p.a)(k,2),E=b[0],h=b[1];Object(n.useEffect)((function(){v(t.name)}),[t]);var C=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),e.prev=1,e.next=4,j(t.id,d);case 4:a(t.id,d),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert("\u0423\u043f\u043f\u0441! \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"tasks-list"},c.a.createElement("div",{onClick:function(){return h(!0)},className:"tasks-title"},E?c.a.createElement("input",{className:"field",type:"text",value:d,onChange:function(e){return v(e.target.value)},onBlur:C,autoFocus:!0}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{style:{color:t.color.hex}},d),c.a.createElement("img",{src:M.a,alt:"Edit"}))),c.a.createElement("div",{className:"tasks-body"},t.tasks&&t.tasks.length>0?t.tasks.map((function(e){return c.a.createElement(B,Object.assign({key:e.id,onRemove:s,onEdit:o,onComplete:i},e))})):c.a.createElement("h2",{className:"tasks-empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),c.a.createElement(W,{key:t.id,list:t,onCreateTask:r})))};var J=function(){var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(null),o=Object(p.a)(s,2),l=o[0],f=o[1],k=Object(n.useState)(null),b=Object(p.a)(k,2),C=b[0],j=b[1],x=Object(v.e)();console.log("histiry: ",x),Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(h,"/lists?_expand=color&_embed=tasks"));case 2:return t=e.sent,r(t.data),e.next=6,E.a.get("".concat(h,"/colors"));case 6:a=e.sent,f(a.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=x.location.pathname.split("lists/")[1];if(a){var t=a.find((function(t){return t.id===+e}));j(t)}}),[a,x.location.pathname]);var O=function(e,t){var n=a.map((function(a){return a.id===e&&(a.name=t),a}));r(n)},g=function(e,t){var n=a.map((function(a){return a.id===e&&(a.tasks=[].concat(Object(i.a)(a.tasks),[t])),a}));r(n)},w=function(e,t){var n=a.map((function(a){return a.id===e&&(a.tasks=a.tasks.filter((function(e){return e.id!==t}))),a}));r(n)},N=function(e,t,n){var c=a.map((function(a){return a.id===e&&(a.tasks=a.tasks.map((function(e){return e.id===t&&(e.text=n),e}))),a}));r(c)},y=function(e,t){var n=a.map((function(a){return a.id===e&&(a.tasks=a.tasks.map((function(e){return e.id===t&&(e.completed=!e.completed),e}))),a}));r(n)};return c.a.createElement("div",{className:"app"},c.a.createElement("div",{className:"todo"},c.a.createElement("div",{className:"menu"},c.a.createElement(T,{onClickItem:function(){return x.push("/")},items:[{icon:c.a.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M10.96 5.10001H5.74001C5.24321 5.10001 5.20001 5.50231 5.20001 6.00001C5.20001 6.49771 5.24321 6.90001 5.74001 6.90001H10.96C11.4568 6.90001 11.5 6.49771 11.5 6.00001C11.5 5.50231 11.4568 5.10001 10.96 5.10001ZM12.76 9.60001H5.74001C5.24321 9.60001 5.20001 10.0023 5.20001 10.5C5.20001 10.9977 5.24321 11.4 5.74001 11.4H12.76C13.2568 11.4 13.3 10.9977 13.3 10.5C13.3 10.0023 13.2568 9.60001 12.76 9.60001ZM5.74001 2.40001H12.76C13.2568 2.40001 13.3 1.99771 13.3 1.50001C13.3 1.00231 13.2568 0.600006 12.76 0.600006H5.74001C5.24321 0.600006 5.20001 1.00231 5.20001 1.50001C5.20001 1.99771 5.24321 2.40001 5.74001 2.40001ZM2.86001 5.10001H1.24001C0.743212 5.10001 0.700012 5.50231 0.700012 6.00001C0.700012 6.49771 0.743212 6.90001 1.24001 6.90001H2.86001C3.35681 6.90001 3.40001 6.49771 3.40001 6.00001C3.40001 5.50231 3.35681 5.10001 2.86001 5.10001ZM2.86001 9.60001H1.24001C0.743212 9.60001 0.700012 10.0023 0.700012 10.5C0.700012 10.9977 0.743212 11.4 1.24001 11.4H2.86001C3.35681 11.4 3.40001 10.9977 3.40001 10.5C3.40001 10.0023 3.35681 9.60001 2.86001 9.60001ZM2.86001 0.600006H1.24001C0.743212 0.600006 0.700012 1.00231 0.700012 1.50001C0.700012 1.99771 0.743212 2.40001 1.24001 2.40001H2.86001C3.35681 2.40001 3.40001 1.99771 3.40001 1.50001C3.40001 1.00231 3.35681 0.600006 2.86001 0.600006Z",fill:"#7C7C7C"})),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}]}),a?c.a.createElement(T,{items:a,onRemove:function(e){r(a.filter((function(t){return t.id!==e})))},onClickItem:function(e){x.push("/lists/".concat(e.id))},activeItem:C,isRemovable:!0}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",c.a.createElement(R,{colors:l,onAddList:function(e){r([].concat(Object(i.a)(a),[e]))}})),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:d()("tasks",{"multi-topics":"/"===x.location.pathname})},c.a.createElement(v.a,{exact:!0,path:"/"},a&&a.map((function(e){return c.a.createElement(A,{key:e.id,list:e,onEditTitleList:O,onCreateTask:g,onRemoveTask:w,onEditTask:N,onComplete:y})}))),c.a.createElement(v.a,{path:"/lists/:id"},a&&C&&c.a.createElement(A,{list:C,onEditTitleList:O,onCreateTask:g,onRemoveTask:w,onEditTask:N,onComplete:y}))))))};a(70);s.a.render(c.a.createElement(o.a,null,c.a.createElement(J,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f7f0a866.chunk.js.map